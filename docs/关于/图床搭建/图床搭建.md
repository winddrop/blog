---
title: å›¾åºŠæ­å»º
description: å›¾åºŠæ­å»º
date: '2025-08-18T09:42:00.000Z'
updated: '2025-08-21T03:14:00.000Z'
category:
  - å…³äº
  - å›¾åºŠæ­å»º
tags:
  - å…¶ä»–
notion_id: 253314c0-6846-8019-8914-f250d33fa281
notion_url: 'https://www.notion.so/253314c0684680198914f250d33fa281'
---
# å›¾åºŠæ­å»º
[**å›¾åºŠæ­å»ºCloudFlare-ImgBed **](https://github.com/MarSeventh/CloudFlare-ImgBed)

**Cloudflare Pages éƒ¨ç½²**

ğŸ”– **ä¹¦ç­¾**: [https://cfbed.sanyue.de/deployment/cloudflare.html](https://cfbed.sanyue.de/deployment/cloudflare.html)

# **Fork é¡¹ç›®**

1. è®¿é—®Â [**CloudFlare ImgBed é¡¹ç›®**](https://github.com/MarSeventh/CloudFlare-ImgBed)
1. ç‚¹å‡»å³ä¸Šè§’çš„ "Fork" æŒ‰é’®
1. é€‰æ‹©æ‚¨çš„ GitHub è´¦æˆ·
1. ç¡®è®¤ Fork å®Œæˆ
# **åˆ›å»º Pages é¡¹ç›®**

### **2.1 è®¿é—® Cloudflare Dashboard**

1. ç™»å½•Â [**Cloudflare Dashboard**](https://dash.cloudflare.com/)
1. é€‰æ‹©å·¦ä¾§èœå•çš„ "Workers & Pages"
1. ç‚¹å‡» "åˆ›å»ºåº”ç”¨ç¨‹åº"
1. é€‰æ‹© "Pages" é€‰é¡¹å¡
1. ç‚¹å‡» "è¿æ¥åˆ° Git"
![](https://img.winddrop.top/file/blogFolder/253314c06846802a8282f265e5e9ffad/1755746105898_notion_1755746098920_8hfu8l.png)

### **2.2 è¿æ¥ GitHub ä»“åº“**

1. å¦‚æœé¦–æ¬¡ä½¿ç”¨ï¼Œéœ€è¦æˆæƒ Cloudflare è®¿é—® GitHub
1. é€‰æ‹©æ‚¨ Fork çš„Â `CloudFlare-ImgBed`Â ä»“åº“
1. ç‚¹å‡» "å¼€å§‹è®¾ç½®"
### **2.3 é…ç½®é¡¹ç›®è®¾ç½®**

| **é…ç½®é¡¹** | **å€¼** | **è¯´æ˜** |
| --- | --- | --- |
| é¡¹ç›®åç§° | `cloudflare-imgbed`ï¼ˆæˆ–è‡ªå®šä¹‰ï¼‰ | é¡¹ç›®æ ‡è¯†ç¬¦ |
| ç”Ÿäº§åˆ†æ”¯ | `main` | ç”Ÿäº§ç¯å¢ƒåˆ†æ”¯ |
| æ„å»ºå‘½ä»¤ | `npm install` | **é‡è¦ï¼šv2.0 æ–°æ„å»ºå‘½ä»¤** |
| æ„å»ºè¾“å‡ºç›®å½• | `/` | ä¿æŒé»˜è®¤ |

![](https://img.winddrop.top/file/blogFolder/253314c06846802a8282f265e5e9ffad/1755746125293_notion_1755746116823_ea5e8k.png)

**é‡è¦æé†’**

v2.0 ç‰ˆæœ¬çš„æ„å»ºå‘½ä»¤å·²å˜æ›´ä¸ºÂ `npm install`ï¼Œè¯·ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„æ„å»ºå‘½ä»¤ã€‚

### **2.4 éƒ¨ç½²é¡¹ç›®**

1. ç‚¹å‡» "ä¿å­˜å¹¶éƒ¨ç½²"
1. ç­‰å¾…é¦–æ¬¡éƒ¨ç½²å®Œæˆï¼ˆçº¦ 2-3 åˆ†é’Ÿï¼‰
# **é…ç½® KV æ•°æ®åº“**

KV æ•°æ®åº“ç”¨äºå­˜å‚¨æ–‡ä»¶å…ƒæ•°æ®ï¼Œæ˜¯å¿…éœ€çš„ç»„ä»¶ã€‚

### **3.1 åˆ›å»º KV å‘½åç©ºé—´**

1. åœ¨ Cloudflare Dashboard ä¸­é€‰æ‹© "Workers & Pages"
1. ç‚¹å‡» "KV"
1. ç‚¹å‡» "åˆ›å»ºå‘½åç©ºé—´"
1. è¾“å…¥å‘½åç©ºé—´åç§°ï¼š`img_url`ï¼ˆå»ºè®®ä½¿ç”¨æ­¤åç§°ï¼‰
1. ç‚¹å‡» "æ·»åŠ "
![](https://img.winddrop.top/file/blogFolder/253314c06846802a8282f265e5e9ffad/1755746129178_notion_1755746126778_2dpny2.png)

![](https://img.winddrop.top/file/blogFolder/253314c06846802a8282f265e5e9ffad/1755746145763_notion_1755746135062_icl8so.png)

### **3.2 ç»‘å®š KV åˆ°é¡¹ç›®**

1. è¿”å›æ‚¨çš„ Pages é¡¹ç›®
1. é€‰æ‹© "è®¾ç½®" â†’ "ç»‘å®š"
1. ç‚¹å‡» "æ·»åŠ " â†’ "KV å‘½åç©ºé—´"
1. å¡«å†™ç»‘å®šä¿¡æ¯ï¼š
   - **å˜é‡åç§°**ï¼š`img_url`ï¼ˆå¿…é¡»æ˜¯è¿™ä¸ªåç§°ï¼‰
   - **KV å‘½åç©ºé—´**ï¼šé€‰æ‹©åˆšåˆ›å»ºçš„å‘½åç©ºé—´
1. ç‚¹å‡» "ä¿å­˜"
**æ³¨æ„**

ç»‘å®š KV æ—¶ï¼Œå˜é‡åç§°å¿…é¡»ä¸ºÂ `img_url`ï¼Œè¿™æ˜¯é¡¹ç›®é¢„è®¾çš„å˜é‡åï¼Œå¡«é”™ä¼šå‡ºç°æ— æ³•è¿›å…¥ç®¡ç†ç•Œé¢ç­‰æƒ…å†µã€‚

# **é‡æ–°éƒ¨ç½²**

ç»‘å®š KV åéœ€è¦é‡æ–°éƒ¨ç½²ä»¥ç”Ÿæ•ˆï¼š

1. è¿›å…¥é¡¹ç›®çš„ "éƒ¨ç½²" é¡µé¢
1. æ‰¾åˆ°æœ€æ–°çš„éƒ¨ç½²è®°å½•
1. ç‚¹å‡»å³ä¾§çš„ "..." èœå•
1. é€‰æ‹© "é‡è¯•éƒ¨ç½²"
1. ç­‰å¾…éƒ¨ç½²å®Œæˆ
![](https://img.winddrop.top/file/blogFolder/253314c06846802a8282f265e5e9ffad/1755746171314_notion_1755746160810_4q124n.png)

# **TelegramÂ é…ç½®bot**

1. **åˆ›å»ºä¸€ä¸ª Telegram æœºå™¨äºº**
   - åœ¨ Telegram ä¸­æœç´¢â€œBotFatherâ€ï¼Œå¹¶ç”¨å®ƒåˆ›å»ºä¸€ä¸ªæœºå™¨äººï¼ˆæ³¨æ„è®°ä¸‹ bot çš„ Tokenï¼‰ã€‚
1. **å°†æœºå™¨äººæ·»åŠ åˆ°ä½ çš„ç¾¤ç»„**
   - åœ¨ç¾¤ç»„ä¸­æ·»åŠ ä½ çš„æœºå™¨äººï¼Œç¡®ä¿æœºå™¨äººå…·æœ‰è¯»å–ä¿¡æ¯æƒé™ã€‚
1. **è®©æœºå™¨äººæ”¶åˆ°ä¸€æ¡æ¶ˆæ¯æˆ–åŠ å…¥äº‹ä»¶**
   - å‘ç¾¤ç»„å‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œæˆ–è€…è®©æœºå™¨äººåœ¨ç¾¤ç»„ä¸­å¯åŠ¨ï¼Œç¡®ä¿æœºå™¨äººèƒ½æ”¶åˆ°é€šçŸ¥ã€‚
1. **ä½¿ç”¨ Telegram API è·å–æ›´æ–°**
   - è°ƒç”¨Â `getUpdates`Â æ–¹æ³•ï¼Œè·å–åŒ…å« Chat ID çš„æ›´æ–°ä¿¡æ¯ã€‚
```plain text
https://api.telegram.org/bot<ä½ çš„Bot Token>/getUpdates
```

éœ€è¦æœºå™¨äºº `can_read_all_group_messages`Â  æƒé™ï¼Œå¦‚æœæ²¡æœ‰è¯»å–æ‰€æœ‰ä¿¡æ¯æƒé™

ä½¿ç”¨æ¥å£

```powershell
https://api.telegram.org/bot<YourBotToken>/promoteChatMember
// å“åº”
{
  "chat_id": "<ç¾¤ç»„ID>",
  "user_id": <æœºå™¨äººç”¨æˆ·ID>,
  "can_read_all_group_messages": true
}
```

# å­˜å‚¨æ¸ é“é…ç½®

è‡³æ­¤å·²ç»å®Œæˆé¡¹ç›®åœ¨ Cloudflare Pages çš„éƒ¨ç½²ï¼Œä½†æ˜¯å°šæœªæ·»åŠ å­˜å‚¨æ¸ é“ï¼Œæ·»åŠ å­˜å‚¨æ¸ é“å’Œè¿›è¡Œå…¶ä»–è®¾ç½®çš„æ–¹å¼è¯·å‚è€ƒ
[https://cfbed.sanyue.de/deployment/configuration.html#%F0%9F%97%82%EF%B8%8F-%E5%AD%98%E5%82%A8%E6%B8%A0%E9%81%93%E9%85%8D%E7%BD%AE](https://cfbed.sanyue.de/deployment/configuration.html#%F0%9F%97%82%EF%B8%8F-%E5%AD%98%E5%82%A8%E6%B8%A0%E9%81%93%E9%85%8D%E7%BD%AE)

imgBed é…ç½®ä¸Š **Telegram tokenå’ŒchatID**

![](https://img.winddrop.top/file/blogFolder/253314c06846802a8282f265e5e9ffad/1755746661445_notion_1755746649703_e75yqq.png)

![](https://img.winddrop.top/file/blogFolder/253314c06846802a8282f265e5e9ffad/1755746663873_notion_1755746658804_rvyyl3.png)

æ­¤æ—¶å›¾åºŠå·²ç»æ­å»ºå¥½äº†ï¼Œä½¿ç”¨cloudflare çš„CloudFlare-ImgBed pageséƒ¨ç½²çš„åœ°å€å¯ä»¥è®¿é—®äº†



## APIè®¿é—®æ¥å£ï¼Œè¿æ¥ `vitepress`

å®‰å…¨è®¾ç½®æ–°å¢APIToken

![](https://img.winddrop.top/file/blogFolder/253314c06846802a8282f265e5e9ffad/1755746674112_notion_1755746666691_jrnqw0.png)

åœ¨vitepress .env é…ç½®

```powershell
NOTION_TOKEN=notion é›†æˆtoken
NOTION_DATABASE_ID=notion æ–‡æ¡£æ•°æ®åº“é¡µé¢åœ°å€
IMG_UPLOAD_AUTHCODE=å›¾åºŠAPItoken
IMG_BASEURL=https://img.XXX.com  å›¾ç‰‡æ˜¾ç¤ºå‰ç¼€
IMG_UPLOAD_FOLDER=/blogFolder ä¸Šä¼ åˆ°å›¾åºŠçš„æ–‡ä»¶å¤¹ä½ç½®
IMG_UPLOAD_URL=https://img.XXX.com/upload   å›¾ç‰‡ä¸Šä¼ åœ°å€
IMG_DELETE_URL=https://img.XXX.com/api/manage/delete å›¾ç‰‡åˆ é™¤åœ°å€

```

### APIæ–‡æ¡£

ğŸ”– **ä¹¦ç­¾**: [https://cfbed.sanyue.de/api/](https://cfbed.sanyue.de/api/)

